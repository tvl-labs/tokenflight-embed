/* ── Font Imports ─────────────────────────────────────────────────── */
@import "@fontsource/dm-sans/latin-400.css";
@import "@fontsource/dm-sans/latin-500.css";
@import "@fontsource/dm-sans/latin-600.css";
@import "@fontsource/dm-sans/latin-700.css";
@import "@fontsource/jetbrains-mono/latin-400.css";
@import "@fontsource/jetbrains-mono/latin-500.css";

/* ── Brand Colors ─────────────────────────────────────────────────── */
/* TokenFlight accent: #6C5CE7 ≈ hsl(249, 75%, 63%) */

:root {
  --sl-color-accent-low: hsl(249, 55%, 18%);
  --sl-color-accent: hsl(249, 75%, 63%);
  --sl-color-accent-high: hsl(249, 85%, 82%);

  /* Header design tokens (dark) */
  --tf-header-text: #EEF0F6;
  --tf-header-text-secondary: #8B93A5;
  --tf-header-text-tertiary: #555D6E;
  --tf-header-accent: #8B7CF6;
  --tf-header-accent-glow: rgba(139, 124, 246, 0.12);
  --tf-header-search-bg: rgba(30, 33, 48, 0.7);
  --tf-header-border: rgba(37, 42, 56, 0.8);
  --tf-header-border-bottom: rgba(37, 42, 56, 0.6);
  --tf-header-hover-bg: rgba(139, 124, 246, 0.06);
  --tf-header-tag-bg: rgba(139, 124, 246, 0.1);
  --tf-header-kbd-bg: #2A2F3F;
  --tf-header-kbd-text: #555D6E;
  --tf-header-shadow: 0 1px 12px rgba(0, 0, 0, 0.3);
}

:root[data-theme='light'] {
  --sl-color-accent-high: hsl(249, 55%, 35%);
  --sl-color-accent: hsl(249, 70%, 55%);
  --sl-color-accent-low: hsl(249, 80%, 93%);

  /* Header design tokens (light) */
  --tf-header-text: #0F1419;
  --tf-header-text-secondary: #5E6673;
  --tf-header-text-tertiary: #9BA3AF;
  --tf-header-accent: #6C5CE7;
  --tf-header-accent-glow: rgba(108, 92, 231, 0.1);
  --tf-header-search-bg: rgba(240, 242, 245, 0.8);
  --tf-header-border: rgba(232, 234, 239, 0.9);
  --tf-header-border-bottom: rgba(232, 234, 239, 0.8);
  --tf-header-hover-bg: rgba(108, 92, 231, 0.04);
  --tf-header-tag-bg: rgba(108, 92, 231, 0.08);
  --tf-header-kbd-bg: #E8EAEF;
  --tf-header-kbd-text: #9BA3AF;
  --tf-header-shadow: 0 1px 12px rgba(0, 0, 0, 0.04);
}

/* ── Typography ──────────────────────────────────────────────────── */

:root {
  --sl-font: 'DM Sans', system-ui, -apple-system, sans-serif;
  --sl-font-mono: 'JetBrains Mono', 'DM Mono', ui-monospace, 'SFMono-Regular', monospace;
}

/* ── Playground Design Tokens ────────────────────────────────────── */

:root {
  --pg-surface: #181B25;
  --pg-surface-raised: #1E2230;
  --pg-controls-bg: #141720;
  --pg-border: #252A38;
  --pg-text: #EEF0F6;
  --pg-text-secondary: #8B93A5;
  --pg-text-dim: #5A6175;
  --pg-text-tertiary: #454D60;
  --pg-code-bg: #0D0F14;
  --pg-input-bg: #1A1D28;
  --pg-hover: #252A38;
}

:root[data-theme='light'] {
  --pg-surface: #FCFCFD;
  --pg-surface-raised: #FFFFFF;
  --pg-controls-bg: #F7F8FA;
  --pg-border: #EBEBEF;
  --pg-text: #0F1419;
  --pg-text-secondary: #5E6673;
  --pg-text-dim: #9BA3AF;
  --pg-text-tertiary: #B0B7C3;
  /* Code area stays dark in light mode */
  --pg-code-bg: #0D0F14;
  --pg-input-bg: #FFFFFF;
  --pg-hover: #F0F1F4;
}

/* ── Header ──────────────────────────────────────────────────────── */

/* Outer <header> from PageFrame.astro */
header.header {
  background-color: rgba(13, 15, 20, 0.82) !important;
  border-bottom: 1px solid transparent !important;
  backdrop-filter: blur(16px) saturate(1.4);
  -webkit-backdrop-filter: blur(16px) saturate(1.4);
  transition: border-bottom-color 220ms ease, box-shadow 220ms ease;
}

:root[data-theme='light'] header.header {
  background-color: rgba(255, 255, 255, 0.82) !important;
}

header.header[data-scrolled] {
  border-bottom-color: var(--tf-header-border-bottom) !important;
  box-shadow: var(--tf-header-shadow);
}

/* ── Search button overrides ─────────────────────────────────────── */

site-search {
  display: flex;
  align-items: center;
}

@media (min-width: 50rem) {
  site-search button[data-open-modal] {
    height: 34px !important;
    border-radius: 9px !important;
    background-color: var(--tf-header-search-bg) !important;
    border: 1px solid var(--tf-header-border) !important;
    font-size: 12.5px !important;
    max-width: 260px !important;
    min-width: 200px !important;
    padding: 0 12px !important;
    gap: 8px !important;
    transition: border-color 180ms ease, box-shadow 180ms ease !important;
  }

  site-search button[data-open-modal]:hover {
    border-color: var(--tf-header-accent) !important;
  }

  site-search button[data-open-modal] > kbd {
    font-family: 'DM Sans', sans-serif !important;
    font-size: 10.5px !important;
    font-weight: 600 !important;
    padding: 2px 5px !important;
    border-radius: 4px !important;
    background-color: var(--tf-header-kbd-bg) !important;
    color: var(--tf-header-kbd-text) !important;
    border: none !important;
    letter-spacing: 0.02em;
  }

  site-search button[data-open-modal] > span {
    color: var(--tf-header-text-tertiary) !important;
    font-weight: 400 !important;
  }
}

/* ── Social icons overrides ──────────────────────────────────────── */

.tf-header-social a {
  width: 34px !important;
  height: 34px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 8px !important;
  padding: 0 !important;
  margin: 0 !important;
  color: var(--tf-header-text-secondary) !important;
  transition: color 150ms ease, background 150ms ease !important;
}

.tf-header-social a:hover {
  color: var(--tf-header-text) !important;
  background: var(--tf-header-hover-bg) !important;
  opacity: 1 !important;
}

/* ── Theme select overrides ──────────────────────────────────────── */

starlight-theme-select {
  display: flex;
  align-items: center;
}

starlight-theme-select label {
  width: 34px !important;
  height: 34px !important;
  display: grid !important;
  place-items: center !important;
  border-radius: 8px !important;
  padding: 0 !important;
  gap: 0 !important;
  color: var(--tf-header-text-secondary) !important;
  transition: color 150ms ease, background 150ms ease !important;
  cursor: pointer;
  position: relative;
}

starlight-theme-select label:hover {
  color: var(--tf-header-text) !important;
  background: var(--tf-header-hover-bg) !important;
}

/* Hide the caret icon */
starlight-theme-select .icon.caret {
  display: none !important;
}

/* Hide the sr-only span */
starlight-theme-select label > .sr-only {
  position: absolute !important;
}

/* Hide the select dropdown visually but keep it functional */
starlight-theme-select select {
  position: absolute !important;
  inset: 0 !important;
  opacity: 0 !important;
  cursor: pointer !important;
  width: 100% !important;
  height: 100% !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Show only the label icon, centered in the grid cell */
starlight-theme-select .icon.label-icon {
  position: static !important;
  transform: none !important;
  font-size: 1rem !important;
  grid-area: 1 / 1 !important;
}

/* ── Sidebar ─────────────────────────────────────────────────────── */

.sidebar-pane {
  border-right: none;
}

/* ── Content polish ──────────────────────────────────────────────── */

/* Tighter code blocks */
:root {
  --ec-codePadBlk: 0.75rem;
  --ec-codePadInl: 1rem;
}

/* Table styling */
table {
  font-size: 0.875rem;
}

table th {
  white-space: nowrap;
}

/* Inline code in table cells: smaller, tighter */
td code {
  font-size: 0.8em;
  padding: 0.125em 0.35em;
}

/* Hide redundant Starlight hero h1 (keep #_top anchor for skip-link a11y) */
.hero { padding: 0 !important; margin: 0; }
.hero .stack { position: absolute; width: 1px; height: 1px; overflow: hidden; clip: rect(0,0,0,0); }

/* ── Section Spacing ─────────────────────────────────────────────── */

:root {
  --pg-section-gap: 6rem;
  --pg-section-gap-sm: 3.5rem;
}

/* Zero out Starlight's auto * + * margin on splash page */
[data-has-hero] .sl-markdown-content > * + * {
  margin-top: 0;
}

/* Do not apply markdown rhythm spacing to embedded widgets/interactive blocks. */
.sl-markdown-content :not(a, strong, em, del, span, input, code, br) + .not-content {
  margin-top: 0 !important;
}

/* Also neutralize rhythm spacing inside not-content descendants (e.g. button siblings). */
.sl-markdown-content :where(.not-content *) + :where(.not-content *) {
  margin-top: 0 !important;
}

/* Hard guard for LiveDemo toggle: prevent Starlight rhythm rule from shifting tab buttons. */
.sl-markdown-content .tf-live-demo .demo-toggle > * + * {
  margin-top: 0 !important;
}

/* Keep button siblings aligned even if the page-level rhythm selector matches buttons. */
.sl-markdown-content .tf-live-demo .demo-btn + .demo-btn {
  margin-top: 0 !important;
}

/* Card grid spacing */
.card {
  --sl-card-padding: 1rem;
}

/* ── Custom Hero ─────────────────────────────────────────────────── */

.pg-hero {
  text-align: center;
  padding: var(--pg-section-gap) 1.5rem var(--pg-section-gap-sm);
  position: relative;
}

.pg-hero-logo {
  font-size: clamp(3rem, 7vw, 5rem);
  line-height: 1;
  margin: 0 0 1rem;
}

.pg-hero-title {
  font-size: clamp(2.75rem, 6vw, 4.25rem);
  font-weight: 700;
  letter-spacing: -0.03em;
  line-height: 1.1;
  margin: 0 0 1.25rem;
  color: var(--pg-text);
}

.pg-hero-token {
  color: var(--pg-text);
}

.pg-hero-flight {
  background: linear-gradient(135deg, #6C5CE7 0%, #a78bfa 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.pg-hero-accent {
  background: linear-gradient(135deg, #6C5CE7 0%, #a78bfa 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.pg-hero-tagline {
  font-size: 1.15rem;
  color: var(--pg-text-secondary);
  margin: 0 auto 2.5rem;
  max-width: 520px;
  line-height: 1.6;
}

.pg-hero-actions {
  display: flex;
  justify-content: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

/* ── Hero Buttons ────────────────────────────────────────────────── */

.pg-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.7rem 1.5rem;
  border-radius: 10px;
  font-size: 0.9375rem;
  font-weight: 600;
  font-family: inherit;
  text-decoration: none;
  cursor: pointer;
  transition: background 0.2s, border-color 0.2s;
  border: 1px solid transparent;
}

.pg-btn--primary {
  background: #6C5CE7;
  color: #fff;
}

.pg-btn--primary:hover {
  background: #7d6fec;
  color: #fff;
}

:root[data-theme='light'] .pg-btn--primary {
  background: #1a1a2e;
}

:root[data-theme='light'] .pg-btn--primary:hover {
  background: #2d2d4a;
}

.pg-btn--ghost {
  background: transparent;
  color: var(--pg-text-secondary);
  border-color: var(--pg-border);
}

.pg-btn--ghost:hover {
  border-color: var(--pg-text-dim);
  color: var(--pg-text);
}

/* ── Section Headings (viteplus.dev style) ───────────────────────── */

[data-has-hero] .sl-heading-wrapper.level-h2 {
  text-align: center;
  justify-content: center;
  margin-top: var(--pg-section-gap);
}

[data-has-hero] .sl-heading-wrapper.level-h2 h2 {
  font-size: clamp(1.75rem, 3vw, 2.25rem);
  font-weight: 700;
  letter-spacing: -0.02em;
}

[data-has-hero] .sl-anchor-link {
  display: none;
}

/* ── Playground Overrides ───────────────────────────────────────── */

.pg-container::before {
  display: none !important;
}
